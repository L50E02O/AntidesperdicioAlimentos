<div class="dashboard-container">
  <aside class="sidebar">
    <div class="logo">BuenProvecho</div>
    <nav>
      <ul>
        <li><a href="#">Inicio</a></li>
        <li><a href="#" class="active">Pedidos</a></li> <li><a href="#">Inventario</a></li>
        <li><a href="#">Incidencias</a></li>
        <li><a href="#">Notificaciones</a></li>
      </ul>
    </nav>
    <div class="user-info">
      <img src="assets/user-avatar.png" alt="User Avatar" class="user-avatar">
      <p class="user-name">Juan PÃ©rez</p>
      <p class="user-role">Comerciante</p>
    </div>
  </aside>

  <main class="main-content">
    <div class="breadcrumb">
      Inicio > Pedidos
    </div>

    <h1>Tus pedidos</h1>

    <div class="tab-navigation">
      <span
        [class.active]="activeTab === 'Todos'"
        (click)="filterPedidos('Todos')"
      >Todos</span>
      <span
        [class.active]="activeTab === 'Pendiente'"
        (click)="filterPedidos('Pendiente')"
      >Pendientes</span>
      <span
        [class.active]="activeTab === 'Confirmado'"
        (click)="filterPedidos('Confirmado')"
      >Confirmados</span>
      <span
        [class.active]="activeTab === 'Cancelado'"
        (click)="filterPedidos('Cancelado')"
      >Cancelados</span>
    </div>

    <h2>Listado de pedidos</h2>

    <div class="orders-list-container">
      <table>
        <thead>
          <tr>
            <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pedido of filteredPedidos" (click)="goToPedidoDetail(pedido.id)">
            <td>{{ pedido.id }}</td>
            <td>
              <div class="client-info">
                <span>{{ pedido.cliente }}</span>
                <span class="product-count">{{ pedido.productos }} producto<span *ngIf="pedido.productos !== 1">s</span></span>
              </div>
            </td>
            <td>
              <span class="status-badge" [class.status-pending]="pedido.estado === 'Pendiente'"
                                       [class.status-confirmed]="pedido.estado === 'Confirmado'"
                                       [class.status-canceled]="pedido.estado === 'Cancelado'"
                                       [class.status-delivered]="pedido.estado === 'Entregado'"> {{ pedido.estado }}
              </span>
            </td>
            <td>{{ pedido.fecha }}</td>
            <td>${{ pedido.total | number:'1.2-2' }}</td>
          </tr>
          <tr *ngIf="filteredPedidos.length === 0">
            <td colspan="5" class="no-data">No hay pedidos para este estado.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>
</div>